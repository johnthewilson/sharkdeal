!function(){"use strict";angular.module("cheapsharkApp",["angular-loading-bar","ui.router","ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch"]).config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("home",{url:"/home",templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"sharkVm"}),b.otherwise("/home")}])}(),function(){"use strict";function a(a,b){function c(a){return function(b){var c=b.metacriticScore>a-10&&b.metacriticScore<a;return c?(f.exists[a]=!0,c):c}}function d(){a.getAll().then(function(a){f.deals=a,console.log(a)},function(a){console.log(a)})}function e(a){return b(function(){return void 0!==f.exists[a]?!0:!1},2e3)}var f=this;f.deals=[],f.exists={},f.existsvalues=[],f.rating=c,f.hideIfNull=e,d()}angular.module("cheapsharkApp").controller("MainCtrl",a),a.$inject=["sharkService","$timeout"]}(),function(){"use strict";function a(a,b){return{getAll:function(){var c=b.defer();return a.get("https://www.cheapshark.com/api/1.0/deals").then(function(a){console.log(a),c.resolve(a.data)},function(a){c.reject(a.status)}),c.promise}}}angular.module("cheapsharkApp").factory("sharkService",a),a.$inject=["$http","$q"]}(),function(){"use strict";function a(a){return function(b){switch(console.log("runcing"),a){case 100:return b.metacriticScore>90;default:console.log("default")}}}angular.module("cheapsharkApp").filter("rating",a),a.$inject=[]}(),angular.module("cheapsharkApp").run(["$templateCache",function(a){"use strict";a.put("views/main.html",'<div class="jumbotron"> <div ng-class="{\'hide\': sharkVm.exists[100] == undefined}" class="deals"> <h1>100</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(100)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[90] == undefined}" class="deals"> <h1>90</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(90)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[80] == undefined}" class="deals"> <h1>80</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(80)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[70] == undefined}" class="deals"> <h1>70</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(70)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score">{{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[60] == undefined}" class="deals"> <h1>60</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(60)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[50] == undefined}" class="deals"> <h1>50</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(50)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[40] == undefined}" class="deals"> <h1>40</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(40)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[30] == undefined}" class="deals"> <h1>30</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(30)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[20] == undefined}" class="deals"> <h1>20</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(20)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score">{{ deal.metacriticScore }}</p> </div> </div> <div ng-class="{\'hide\': sharkVm.exists[10] == undefined}" class="deals"> <h1>10</h1> <div class="shark" ng-repeat="deal in sharkVm.deals | filter:sharkVm.rating(10)"> <img class="deal-image" ng-src="{{deal.thumb}}"> <p class="title">{{ deal.title }} </p> <p class="score"> {{ deal.metacriticScore }}</p> </div> </div> </div>')}]);